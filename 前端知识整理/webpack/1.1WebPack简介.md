# weboack

## 为什要使用WebPack

简化开发的复杂度，可以将浏览器不能识别但是是JavaScript的扩展（ts，scss）的内容转换成可以识别的内容

## 什么是Webpack

WebPack可以看做是模块打包机：分析你的项目结构，找到对应的模块，并将其转换和打包为合适的格式供浏览器使用。

## WebPack和Grunt以及Gulp相比有什么特性

* WebPack是一种模块化的解决方案
* Grunt和Gulp：在一个配置文件中，指明对某些文件进行类似编译，组合，压缩等任务的具体步骤

## 打包机制

1. 初始化参数 从配置文件和 Shell 语句中读取与合并参数，得出最终的参数
2. 开始编译 用上一步得到的参数初始Compiler对象，加载所有配置的插件，通 过执行对象的run方法开始执行编译
3. 确定入口 根据配置中的 Entry 找出所有入口文件
4. 编译模块 从入口文件出发，调用所有配置的 Loader 对模块进行编译，再找出该模块依赖的模块，再递归本步骤直到所有入口依赖的文件都经过了本步骤的处理
5. 完成模块编译 在经过第4步使用 Loader 翻译完所有模块后， 得到了每个模块被编译后的最终内容及它们之间的依赖关系
6. 输出资源：根据入口和模块之间的依赖关系，组装成一个个包含多个模块的 Chunk,再将每个 Chunk 转换成一个单独的文件加入输出列表中，这是可以修改输出内容的最后机会
7. 输出完成：在确定好输出内容后，根据配置确定输出的路径和文件名，将文件的内容写入文件系统中。

## Loader

Loader 就像一个翻译员，能将浏览器不能识别的文件转换成可以编译的文件 

## Plugin

专注处理 webpack 在编译过程中的某个特定的任务的功能模块，可以称为插件概念：

* 是一个独立的模块
* 模块对外暴露一个 js 函数
* 函数的原型 (prototype) 上定义了一个注入 compiler 对象的 apply 方法 apply 函数中需要有通过 compiler 对象挂载的 webpack 事件钩子，钩子的回调中能拿到当前编译的 compilation 对象，如果是异步编译插件- 的话可以拿到回调 callback
* 完成自定义子编译流程并处理 complition 对象的内部数据
* 如果异步编译插件的话，数据处理完成后执行 callback 回调。

